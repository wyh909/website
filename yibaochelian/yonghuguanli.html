<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>用户管理</title>
	<link rel="stylesheet" type="text/css" href="css/reset.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<style type="text/css">
	.winpop .bd .item {
		margin-top: 5px;
	}
	.winpop .bd .item label{
		
	}
	.winpop .bd .item .inpt{height:20px;}
	.winpop .bd .item select {height: 28px;}
	.winpop .bd .item select.multi {
		height: 60px;
	}
	.winpop .bd {
		text-align: left;
		position: relative;
	}
	.winpop .bd .error {
		color: #f30;
		font-size: 12px;
		position: absolute;
		bottom: -5px;
		left: 140px;
	}
	</style>
</head>
<body>
	<div class="header">
		
	</div>
	<div class="wrap">
		<div class="mainnav">
		</div>
		<div class="content ms-controller" ms-controller="table">
					<div class="search"></div>
					<div class="btns-right">
						<a href="javascript:;" class="btn btn-ok edit-item" ms-click="addItem('add')" >添加</a>
					</div>
					<div class="manage-list">
						<table class="Mtable">
							<thead>
								<tr>
									<th>序号</th>
									<th ms-repeat="th">{{el.name}}</th>
									<th>关联角色名称</th>
									<th>关联个数</th>
									<th>操作</th>
								</tr>
							</thead>
							<tbody>
								<tr class="loading">
									<td colspan="10" style="height:150px;padding-top:50px;"><img src="img/loading.gif"/></td>
								</tr>
								<tr ms-repeat="tr">
									<td>{{$index+1}}</td>
									<td ms-repeat="th">{{getkey($index,el.id)}}</td>
									<td><span  ms-data-id="elem.id" ms-repeat-elem="el.roles">{{elem.name}}<span ms-if="!$last">/</span> </span></td>
									<td><span>{{el.roles.length}}</span></td>
									
									<td><a class="edit-item" ms-click="editItem(el.id)">编辑</a><a href="javascript:;" ms-click="delItem(el.id)" class="delete-item"> 删除</a></td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="page"></div>
				</div>
			</div>
			
		</div>

	</div>
	<div class="footer">
	</div>
	<div class="winpop w400">
		<div class="hd"></div>
		<div class="bd-user ms-controller" ms-controller="useredit" >
			<div class="bd">
				<div class="item" ms-repeat="item" data-repeat-rendered="getRole">
					<label>{{el.name}}：</label>
					<span  ms-if="!el.type || el.type == 0"><input type="text" class="inpt" ms-attr-id="el.id" ms-attr-value="el.value" ms-on-input="change"  /></span>
					<span ms-class="select-outer"  ms-if="el.type == 1" ms-attr-id="el.name" ms-attr-value="el.value">
						<select class="select" ms-duplex="el.selected" ms-attr-multiple="el.isMulti" ms-class="multi:el.isMulti" ms-attr-id="el.id">
							<option ms-repeat-option="el.options" ms-attr-value="option.value" >{{option.text}}</option>
						</select>
					</span>
				</div>
			</div>
			<div class="btns">
				<a href="javascript:;" ms-click="saveItem" class="btn btn-ok">保 存</a>
				<a href="javascript:;" ms-click="cancelItem" class="btn btn-cancel">取 消</a>
			</div>
				
		</div>
		<!-- <div class="bd-role" style="display:none" ms-controller="roleedit">
			<div class="bd">
				<div class="item">
					<label>角色名称：</label>
					<input type="text" class="inpt" id="rolename" />
				</div>
				<div class="item">
					<label>权限分配：</label>
					<div class="con" style="padding-left:120px;">
						<span ms-repeat='roles' style="width: 30%; display:inline-block;padding:3px 0">
							<input type="checkbox" name="role" ms-attr-id="el.id" ms-attr-value="el.value" /> {{el}}
						</span>
					</div>
				</div>
				<div class="item">
					<label>角色描述：</label>
					<textarea name="" id="roledesc" cols="30" rows="10"></textarea>
					
				</div>
			</div>
			<div class="btns">
				<a href="javascript:;" ms-click="saveItem" class="btn btn-ok">保 存</a>
				<a href="javascript:;" ms-click="cancelItem" class="btn btn-cancel">取 消</a>
			</div>
		</div> -->
	</div>
	<div class="mask"></div>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/avalon.js"></script>
	<script type="text/javascript" src="js/dialog.js"></script>
	<script type="text/javascript" src="js/pager.js"></script>
	<script type="text/javascript" src="js/head.js"></script>
	<script type="text/javascript" src="js/common-v0.1.js"></script>
	<script type="text/javascript" src="js/yonghuguanli.js"></script>
</body>
</html>