var TREE=function(){function a(a,b){COMMON.ajaxFn({url:b.port,obj:b.obj,callback:function(c){var d,e,f,g,h;if(1==c.code){for(d=c.data.data||{},e={},f=[],f.push(["<ul>",'<li><span class="'+(b.isfold?"close":"open")+'"></span>全部</li>','<ul class="line">'].join("")),url=b.url?b.url:"javascript:;",g=0,h=d.length;h>g;g++)e=d[g],f.push(['<li><span class="close"></span><a id="'+e.productID+'" href="'+("javascript:;"!=url?url+e.productID:url)+'">'+e.productName+"</a></li>"].join(""));f.push("</ul>"),a.html(f.join(""))}}}),a.on("click","span",function(){var a=$(this),b=a.parent().next("ul");a.hasClass("open")?(a.removeClass("open").addClass("close"),b.hide()):(a.removeClass("close").addClass("open"),b.show())}).on("click","a",function(){b.handler&&"function"==typeof b.handler&&b.handler($(this).html())})}return{tree:a}}();