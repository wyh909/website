!function(a){a.fn.dialog=function(b){function c(b){var b=a.extend({},i.param,b||{}),c="",e=b.button||[],f=[],g=[],h=null,k=(new Date).getTime();if(a("div.mask").size()<1&&(a("body").append('<div class="mask"></div>'),j=a("div.mask")),e.length>0)for(var l=0,m=e.length;m>l;l++)h=e[l],handler=h.handler,f.push('<a href="'+(h.url||"javascript:;")+'" class="btn '+h.cls+'">'+(h.text||"")+"</a>");b.title&&(c='<div class="hd"><span>'+(b.title||"")+'</span><a href="javascript:;" class="close">Ã—</a></div>'||""),b.content&&(g=c+'<div class="bd">'+(b.content||"")+'</div><div class="btns">'+f.join("")+"</div>"),$el.html(g).show().attr("id","dialog"+k),b.style&&$el.css(b.style),a("div.bd",$el).show(),a("div.mask").show().attr("id","mask"+k),d(a("#dialog"+k)),"function"==typeof b.callback&&b.callback($el)}function d(c){c.unbind("click"),c.on("click","a.close",function(){f(c)}).on("click.dialog","a.btn",function(){var d=a(this),e=b.button[d.index()].handler;return d.hasClass("btn-cancel")?void f(c):void(e&&e(c))})}function e(b){if(b.size()>0){var c="";b.attr("id")&&(c=b.attr("id").split("dialog")[1]),b.show(),a("#mask"+c).show()}}function f(b){if(b.size()>0){var c="";b.attr("id")&&(c=b.attr("id").split("dialog")[1]),b.hide(),a("#mask"+c).hide(),a("div.mask").hide()}}function g(b,c){a(".hd span",b).html(c)}function h(b,c){a(".bd",b).html(c)}var i={},j=a("div.mask");return i.param={title:null,content:null,button:null,style:null,callback:a.noop},i.events={show:e,hide:f,setTitle:g,setContent:h},$el=this,"string"==typeof b?void(i.events[b]&&i.events[b]($el)):void("object"==typeof b&&c(b))}}(jQuery);